<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data User</title>
  </head>
  <body>
    <h1>Selamat Datang Users</h1>
    <p>Email: <span id="user-email"></span></p>
    <p>User ID: <span id="user-uid"></span></p>

    <script type="module">
      // Import Firebase Modules
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
      } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
      import { getDatabase } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

      // Konfigurasi Firebase Anda
      const firebaseConfig = {
        apiKey: "AIzaSyCuA1qidu4PAIWKH_ims3T7GYvisc_ZqU8",
        authDomain: "futsal-reservation-app.firebaseapp.com",
        databaseURL:
          "https://futsal-reservation-app-default-rtdb.firebaseio.com",
        projectId: "futsal-reservation-app",
        storageBucket: "futsal-reservation-app.firebasestorage.app",
        messagingSenderId: "555512018764",
        appId: "1:555512018764:web:956279dd0cc9cccb2141e9",
      };
      const app = initializeApp(firebaseConfig); // Gunakan initializeApp dari import
      const auth = getAuth(app); // Gunakan getAuth dari import

      // Tampilkan data user
      onAuthStateChanged(auth, (user) => {
        if (user) {
          document.getElementById("user-email").textContent = user.email;
          document.getElementById("user-uid").textContent = user.uid;
        } else {
          alert("Pengguna belum login!");
          window.location.href = "admin.html"; // Redirect ke halaman login jika belum login
        }
      });
    </script>
  </body>
</html>
